<form class="container" [formGroup]="taskForm" (ngSubmit)="onSubmit()">

  <div class="main-content">
      <!-- Content Area -->
      <div class="content-area" >
          <div class="task-title">
              <input type="text" placeholder="What to do?" formControlName="taskTitle" maxlength="100">
          </div>

          <div class="description-section">
              <div class="section-label">Description</div>
              <textarea class="description-input" formControlName="taskDesc" placeholder="Add a description..."></textarea>
          </div>

          <div class="activity-section">
              <div class="activity-tabs">
                  <div class="activity-tab active">Comments</div>
              </div>

              <div class="comment-section">
                  <div class="avatar">B</div>
                  <div style="flex: 1;">
                      <textarea class="comment-input" placeholder="Add a comment..."></textarea>
                      <div class="comment-suggestions">
                          <button class="suggestion-btn">Who is working on this...?</button>
                          <button class="suggestion-btn">Can I get more info...?</button>
                          <button class="suggestion-btn">Status update...</button>
                      </div>
                  </div>
              </div>
          </div>
      </div>
    </div>
      <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-section">
            <h3>Details</h3>
            <div class="field-row">
              <mat-select formControlName="taskStatus">
                @for (status of data.statuses; track status.statusId) {
                  <mat-option  [value]="status.statusName">{{status.statusName}}</mat-option>
                }
              </mat-select>
          </div>
            <div class="field-row">
                <span class="field-label">Assignee</span>
                <span class="field-value unassigned">ðŸ‘¤ Unassigned</span>
            </div>
            <div class="field-row">
                <span class="field-label"></span>
                <span class="field-value assign-link">Assign to me</span>
            </div>

            <div class="field-row">
              <mat-select formControlName="taskPriority">
                @for(priority of priorities; track priority) {
                  <mat-option [value]="priority">
                    Priority: {{priority}}
                  </mat-option>
                }
              </mat-select>
            </div>

            <div class="field-row">
              <mat-form-field appearance="outline" class="input-field">
                <mat-label>Deadline</mat-label>
                <input matInput [matDatepicker]="picker" formControlName="taskDate">
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
            </div>
        </div>
  <div class="actions-container">
    <button class="btn btn-cancel" type="button" (click)="onCancel()">Cancel</button>
    <button class="btn btn-save" color="primary" type="submit" [disabled]="taskForm.invalid || taskForm.pristine">Save</button>
  </div>
    </div>
</form>
